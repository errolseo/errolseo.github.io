<!DOCTYPE html>
<html lang="en-us">
  <head>
    <script type="application/ld+json">

{  
  "@context":"http://schema.org",
  "@type":"Website",
  "@id":"https:\/\/errolseo.github.io\/",
  "author": {
    "@type": "Person",
    "name": "Errol Seo",
    
    "image": "https://errolseo.github.io/images/profile.png"
    
  },
  "name":"Errol\u0027s AI Lab",
  "description":"합성 데이터에 대한 설명 (with. MJSynth \u0026amp; SynthText)",
  "url":"https:\/\/errolseo.github.io\/post\/ocr\/2\/",
  "keywords":"[]"
}

</script>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.147.6 with theme Tranquilpeak 0.5.3-BETA">
<meta name="author" content="Errol Seo">
<meta name="keywords" content="">
<meta name="description" content="합성 데이터에 대한 설명 (with. MJSynth &amp; SynthText)">


<meta property="og:description" content="합성 데이터에 대한 설명 (with. MJSynth &amp; SynthText)">
<meta property="og:type" content="article">
<meta property="og:title" content="Synthetic Text Image (1/3)">
<meta name="twitter:title" content="Synthetic Text Image (1/3)">
<meta property="og:url" content="https://errolseo.github.io/post/ocr/2/">
<meta property="twitter:url" content="https://errolseo.github.io/post/ocr/2/">
<meta property="og:site_name" content="Errol&#39;s AI Lab">
<meta property="og:description" content="합성 데이터에 대한 설명 (with. MJSynth &amp; SynthText)">
<meta name="twitter:description" content="합성 데이터에 대한 설명 (with. MJSynth &amp; SynthText)">
<meta property="og:locale" content="en-us">

  
    <meta property="article:published_time" content="2022-03-08T00:00:00">
  
  
    <meta property="article:modified_time" content="2022-03-08T00:00:00">
  
  
  
    
      <meta property="article:section" content="OCR">
    
  
  


<meta name="twitter:card" content="summary">







  <meta property="og:image" content="https://errolseo.github.io/images/profile.png">
  <meta property="twitter:image" content="https://errolseo.github.io/images/profile.png">





  <meta property="og:image" content="https://errolseo.github.io/images/OCR/2/1.webp">
  <meta property="twitter:image" content="https://errolseo.github.io/images/OCR/2/1.webp">


    <title>Synthetic Text Image (1/3)</title>

    <link rel="icon" href="https://errolseo.github.io/images/favicon.png">
    

    

    <link rel="canonical" href="https://errolseo.github.io/post/ocr/2/">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha512-H9jrZiiopUdsLpg94A333EfumgUBpO9MdbxStdeITo+KEIMaNfHNvwyjjDJb+ERPaRS6DpyRlKbvPUasNItRyw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Color+Emoji&family=Noto+Sans+KR&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=search" />
    
    
    <link rel="stylesheet" href="https://errolseo.github.io/css/style-e5heshipuzwmtjnbgcnvlsu0qzsylwv5yuyltr47pf194kxmsjn69oqdny8.min.css" />
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="5">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://errolseo.github.io/" aria-label="Go to homepage">Errol&#39;s AI Lab</a>
  </div>
  
    
      <a class="header-right-picture "
         href="https://errolseo.github.io/about" aria-label="Open the link: /about">
    
    
    
      
        <img class="header-picture" src="https://errolseo.github.io/images/profile.png" alt="Author&#39;s picture" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="5">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <img class="sidebar-profile-picture" src="https://errolseo.github.io/images/profile.png" alt="Author&#39;s picture" />
        <h4 class="sidebar-profile-name">Errol Seo</h4>
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://errolseo.github.io/" title="Home">
    
      <i class="sidebar-button-icon fas fa-lg fa-home" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://errolseo.github.io/categories" title="Categories">
    
      <i class="sidebar-button-icon fas fa-lg fa-list" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://errolseo.github.io/archives" title="Archives">
    
      <i class="sidebar-button-icon fas fa-lg fa-folder-open" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://errolseo.github.io/about" title="About">
    
      <i class="sidebar-button-icon fas fa-lg fa-user" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/errolseo" target="_blank" rel="noopener" title="GitHub">
    
      <i class="sidebar-button-icon fab fa-lg fa-github" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="5"
        class="
               hasCoverMetaIn
               ">
        <article class="post" id="top">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title">
      Synthetic Text Image (1/3)
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time datetime="2022-03-08T00:00:00Z">
        
  March 8, 2022

      </time>
    
    
  
  
    <span>in</span>
    
      <a href="https://errolseo.github.io/categories/ocr">OCR</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown">
            <div class="main-content-wrap">
              <p><strong>합성 데이터(synthetic text image)</strong>는 OCR 학습을 위해 데이터를 기계적인 방법으로 증강(data augmentation)하는 것을 의미합니다. 이전 글에서 설명했듯이, OCR 데이터는 수집 및 가공에 많은 어려움이 따릅니다. 현실에서 다양한 형태의 OCR 데이터를 충분히 수집할 수 있다면  가장 이상적이겠지만, 이는 현실적으로 어렵습니다. 따라서 합성 데이터는 모델 학습을 위한 훌륭한 차선책이 될 수 있습니다.</p>
<p>이번 글에서는 합성 데이터 중에서도 <strong>MjSynth</strong>와 <strong>SynthText</strong>에 대해 자세히 설명하고자 합니다. 이 두 데이터셋은 Scene Text OCR 분야에서 대규모 고품질 학습 데이터의 선구적인 역할을 수행했습니다.</p>
<hr>
<h2 id="mjsynth">MjSynth</h2>
<p>MJSynth (MJ)는 장면 텍스트 인식(Scene Text Recognition, STR)에 특화된 데이터셋입니다. 즉, 이미지 내의 텍스트를 정확하게 판독하는 모델을 훈련하는데 사용됩니다. 이 데이터셋은 <span class="highlight-text primary">약 890만 개의 단어 이미지(word box images)를 포함하며, 약 90,000개의 영어 단어와 1,400개 이상의 다양한 폰트를 활용</span>하여 생성되었습니다. 아쉽게도 MJ는 합성 데이터 생성 코드를 제공하지 않습니다.</p>



<div class="figure center" >
  
    <img class="fig-img" src="https://errolseo.github.io/images/OCR/2/1.webp" >
  
  
</div>

<blockquote>
<p>그림 1. Pipeline of MJSynth<br>
<a href="https://www.robots.ox.ac.uk/~vgg/publications/2014/Jaderberg14c/">Max Jaderberg, et al. (2014)</a></p></blockquote>
<p>MJ 데이터는 다음 과정을 거쳐 생성됩니다. 먼저, 방대한 텍스트 사전에서 추출된  단어들을 <strong>다양한 폰트로 렌더링</strong>합니다.이 후 실제 배경 이미지 위에 렌더링된 단어를 투영하고, 왜곡, 회전, 굽힘과 같은 <strong>기하학적 변형을 적용</strong>합니다. 마지막으로 색상, 명암, 노이즈, 블러 등의 조명 효과를 추가하여 <strong>자연스럽게 블렌딩</strong>하는 과정을 거칩니다.</p>
<p>이렇게 생성된 데이터는 텍스트 내용과 위치 정보가 자동으로 생성되므로, 별도의 추가 작업 없이 STR 모델 학습에 즉시 사용 가능합니다. 다만 MJ 데이터셋은 장면 텍스트 감지(Scene Text Detection, STD) 모델 학습에는 사용할 수 없기에, OCR 시스템 구축을 위해서는 별도의 데이터셋 확보가 필요합니다.</p>
<hr>
<h2 id="synthtext">SynthText</h2>
<p>SynthText (ST)는 STD 모델 훈련을 위해 설계된 데이터셋입니다. 이 데이터셋은 약 80만 개의 실제 배경 이미지 위에 800만 개에 달하는 합성 텍스트 인스턴스를 자연스럽게 오버레이하여 생성되었으며, 이때 텍스트가 배경의 3D 기하학적 구조를 반영하도록 했습니다. 각 텍스트 인스턴스에는 텍스트 문자열뿐만 아니라 단어 및 문자 수준의 바운딩 박스 주석이 함께 제공되어, 텍스트 감지뿐만 아니라 인식 모델 학습에도 유연하게 활용할 수 있습니다.</p>



<div class="figure center" >
  
    <img class="fig-img" src="https://errolseo.github.io/images/OCR/2/3.webp" >
  
  
</div>

<blockquote>
<p>그림 2. Poisson Image Editing<br>
<a href="https://www.cs.jhu.edu/~misha/Fall07/Papers/Perez03.pdf">Patrick Pérez (2003)</a></p></blockquote>



<div class="figure center" >
  
    <img class="fig-img" src="https://errolseo.github.io/images/OCR/2/4.webp" >
  
  
</div>

<blockquote>
<p>그림 3. Contour Detection and Hierarchical Image Segmentation<br>
<a href="https://www2.eecs.berkeley.edu/Research/Projects/CS/vision/grouping/papers/amfm_pami2010.pdf">Pablo Arbeláez (2010)</a></p></blockquote>
<p>ST 데이터셋에서 가장 중요했던 부분은 합성 데이터와 실제 데이터 간의 간극을 줄이는 것이었습니다. 이는 합성 데이터의 주요 단점인 과적합(Overfitting) 문제를 해결하기 위함입니다. 만약 합성 시나리오를 지나치게 제한하면 다양한 데이터를 확보하기 어려워 모델이 실제 텍스트 영역을 인식하지 못하는 과적합이 발생할 수 있습니다. 반대로 시나리오 제한을 해제하여 너무 자유롭게 합성할 경우, 실제 데이터와의 간극이 벌어져 텍스트가 아닌 영역을 텍스트로 오인식하는 과적합이 발생할 수 있습니다.</p>
<p>ST는 이러한 문제점을 해결하기 위해 <strong>포아송 객체 편집(Poisson Image Editing)</strong>과 <strong>gPb-UCM(Global Probability of Boundary - Ultrametric Contour Map)</strong> 등의 기법을 활용했습니다. 이 두 기법을 통해 합성 데이터가 실제 배경 이미지에 더욱 자연스럽게 어우러지도록 함으로써 실제 데이터와의 간극을 효과적으로 줄일 수 있었습니다. 그 결과, 기존에는 합성하기 어려웠던 복잡한 시나리오의 데이터도 대규모로 생성할 수 있게 됐습니다.</p>



<div class="figure center" >
  
    <img class="fig-img" src="https://errolseo.github.io/images/OCR/2/5.webp" >
  
  
</div>

<blockquote>
<p>그림 4. 올바른 합성 이미지 (L) / 잘 못된 합성 이미지 (R)<br>
<a href="https://www.robots.ox.ac.uk/~vgg/publications/2016/Gupta16">Ankush Gupta (2016)</a></p></blockquote>
<p>그림 4의 왼쪽 이미지는 ST 데이터셋의 샘플이고, 오른쪽 이미지는 필자가 직접 합성한 이미지입니다. 한눈에 봐도 알 수 있듯이, ST 데이터셋의 이미지는 합성 데이터라고 말하지 않으면 모를 정도로 자연스럽습니다. 반면, 오른쪽 필자의 이미지는 합성했다는 티가 분명히 납니다. 이처럼 간단한 예시만으로도 <span class="highlight-text primary">자연스러운 이미지 합성이 얼마나 중요한지</span> 알 수 있습니다.</p>
<hr>
<h4 id="reference">Reference</h4>
<p>[1] Arbeláez, Pablo (2010) | <a href="https://www2.eecs.berkeley.edu/Research/Projects/CS/vision/grouping/papers/amfm_pami2010.pdf">Contour Detection and Hierarchical Image Segmentation</a></p>
<p>[2] Gupta, Ankush (2016) | <a href="https://www.robots.ox.ac.uk/~vgg/publications/2016/Gupta16">Synthetic Data for Text Localisation in Natural Images</a></p>
<p>[3] Jaderberg, Max (2014) | <a href="https://www.robots.ox.ac.uk/~vgg/publications/2014/Jaderberg14c">Synthetic Data and Artificial Neural Networks for Natural Scene Text Recognition</a></p>
<p>[4] Pérez, Patrick (2003) | <a href="https://www.cs.jhu.edu/~misha/Fall07/Papers/Perez03.pdf">Poisson Image Editing</a></p>
<hr>

              


            </div>
          </div>
          
            <div id="post-footer" class="post-footer main-content-wrap">
              
              
  <script src="https://utteranc.es/client.js"
    repo="errolseo/blog-comments"
    issue-term="title"
    theme="github-light"
    crossorigin="anonymous"
    async>
  </script>


              <div class="post-actions-wrap">
  <nav >
    <ul class="post-actions post-action-nav">
      
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="https://errolseo.github.io/post/ocr/1/" data-tooltip="Optical Text Recognition (OCR)" aria-label="PREVIOUS: Optical Text Recognition (OCR)">
          
              <i class="fa fa-angle-left"></i>
              <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
            </a>
        </li>
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="https://errolseo.github.io/post/ocr/3/" data-tooltip="Synthetic Text Image (2/3)" aria-label="NEXT: Synthetic Text Image (2/3)">
          
              <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
              <i class="fa fa-angle-right"></i>
            </a>
        </li>
      
    </ul>
  </nav>
  <ul class="post-actions post-action-share" >
    
      <li class="post-action hide-lg hide-md hide-sm">
        <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
          <i class="fa fa-share-alt" aria-hidden="true"></i>
        </a>
      </li>
      
    
    <li class="post-action">
      <a class="post-action-btn btn btn--default" href="#main" aria-label="Back to top">
        <i class="fa fa-arrow-up" aria-hidden="true"></i>
      </a>
    </li>
    <li class="post-action">
      <a class="post-action-btn btn btn--default" href="#post-footer" aria-label="Leave a comment">
        <i class="far fa-comment"></i>
      </a>
    </li>
  </ul>
</div>

            </div>
          
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2025 Errol Seo. All Rights Reserved
  </span>
</footer>

      </div>
      
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
        <div class="post-actions-wrap">
  <nav >
    <ul class="post-actions post-action-nav">
      
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="https://errolseo.github.io/post/ocr/1/" data-tooltip="Optical Text Recognition (OCR)" aria-label="PREVIOUS: Optical Text Recognition (OCR)">
          
              <i class="fa fa-angle-left"></i>
              <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
            </a>
        </li>
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="https://errolseo.github.io/post/ocr/3/" data-tooltip="Synthetic Text Image (2/3)" aria-label="NEXT: Synthetic Text Image (2/3)">
          
              <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
              <i class="fa fa-angle-right"></i>
            </a>
        </li>
      
    </ul>
  </nav>
  <ul class="post-actions post-action-share" >
    
      <li class="post-action hide-lg hide-md hide-sm">
        <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
          <i class="fa fa-share-alt" aria-hidden="true"></i>
        </a>
      </li>
      
    
    <li class="post-action">
      <a class="post-action-btn btn btn--default" href="#main" aria-label="Back to top">
        <i class="fa fa-arrow-up" aria-hidden="true"></i>
      </a>
    </li>
    <li class="post-action">
      <a class="post-action-btn btn btn--default" href="#post-footer" aria-label="Leave a comment">
        <i class="far fa-comment"></i>
      </a>
    </li>
  </ul>
</div>

      </div>
      

      
    </div>
    
  <div id="cover" style="background-color:#212F3D"></div>

    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha512-uURl+ZXMBrF4AwGaWmEetzrd+J5/8NRkWAvJx5sbPSSuOb0bZLqf+tOzniObO00BjHa/dD7gub9oCGMLPQHtQA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>


<script src="https://errolseo.github.io/js/script-pe6f1lam5xe7sqg6ank1a6lahyswxcqpa5d8a7nluvzxvuaohigjp8nn8sx.min.js"></script>




  </body>
</html>

